/*! For license information please see 5.fff30d3b.chunk.js.LICENSE.txt */
(this["webpackJsonpreact-slack-clone"]=this["webpackJsonpreact-slack-clone"]||[]).push([[5],{326:function(e,t,n){"use strict";var a=n(93),r=n(94),s=n(96),o=n(95),i=n(2),c=n.n(i),l=n(47),u=n(588),h=n(67),d=n(48),f=n(18),p=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={loading:!1,errors:[],usersRef:l.a.database().ref("users")},e.handleFacebookLogin=function(){e.setState({errors:[],loading:!0}),l.a.auth().signInWithPopup(new l.a.auth.FacebookAuthProvider).then((function(t){e.saveUser(t).then((function(){e.cacheUserData(),e.setState({loading:!1})}))})).catch((function(t){e.setState({errors:e.state.errors.concat(t),loading:!1})}))},e.handleGoogleLogin=function(){e.setState({errors:[],loading:!0}),l.a.auth().signInWithPopup(new l.a.auth.GoogleAuthProvider).then((function(t){e.saveUser(t).then((function(){e.cacheUserData(),e.setState({loading:!1})}))})).catch((function(t){e.setState({errors:e.state.errors.concat(t),loading:!1})}))},e.saveUser=function(t){return e.state.usersRef.child(t.user.uid).set({name:t.user.displayName,avatar:t.user.photoURL})},e.cacheUserData=function(){var t=[];l.a.database().ref("users").once("value",(function(n){var a=n.val();Object.keys(a).forEach((function(e){t.push({userId:e,userData:a[e]})})),e.props.cacheUserData(t)}))},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this.state.loading;return Object(f.jsxs)(c.a.Fragment,{children:[Object(f.jsx)(u.a,{disabled:e,icon:"facebook",fluid:!0,color:"facebook",style:{marginBottom:10},content:"Login with Facebook",onClick:this.handleFacebookLogin}),Object(f.jsx)(u.a,{disabled:e,icon:"google",fluid:!0,color:"google plus",content:"Login with Google",onClick:this.handleGoogleLogin})]})}}]),n}(c.a.Component);t.a=Object(h.b)(null,{cacheUserData:d.a})(p)},364:function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},563:function(e,t,n){!function(){var t=n(564),a=n(364).utf8,r=n(565),s=n(364).bin,o=function e(n,o){n.constructor==String?n=o&&"binary"===o.encoding?s.stringToBytes(n):a.stringToBytes(n):r(n)?n=Array.prototype.slice.call(n,0):Array.isArray(n)||(n=n.toString());for(var i=t.bytesToWords(n),c=8*n.length,l=1732584193,u=-271733879,h=-1732584194,d=271733878,f=0;f<i.length;f++)i[f]=16711935&(i[f]<<8|i[f]>>>24)|4278255360&(i[f]<<24|i[f]>>>8);i[c>>>5]|=128<<c%32,i[14+(c+64>>>9<<4)]=c;var p=e._ff,g=e._gg,m=e._hh,b=e._ii;for(f=0;f<i.length;f+=16){var v=l,j=u,y=h,O=d;l=p(l,u,h,d,i[f+0],7,-680876936),d=p(d,l,u,h,i[f+1],12,-389564586),h=p(h,d,l,u,i[f+2],17,606105819),u=p(u,h,d,l,i[f+3],22,-1044525330),l=p(l,u,h,d,i[f+4],7,-176418897),d=p(d,l,u,h,i[f+5],12,1200080426),h=p(h,d,l,u,i[f+6],17,-1473231341),u=p(u,h,d,l,i[f+7],22,-45705983),l=p(l,u,h,d,i[f+8],7,1770035416),d=p(d,l,u,h,i[f+9],12,-1958414417),h=p(h,d,l,u,i[f+10],17,-42063),u=p(u,h,d,l,i[f+11],22,-1990404162),l=p(l,u,h,d,i[f+12],7,1804603682),d=p(d,l,u,h,i[f+13],12,-40341101),h=p(h,d,l,u,i[f+14],17,-1502002290),l=g(l,u=p(u,h,d,l,i[f+15],22,1236535329),h,d,i[f+1],5,-165796510),d=g(d,l,u,h,i[f+6],9,-1069501632),h=g(h,d,l,u,i[f+11],14,643717713),u=g(u,h,d,l,i[f+0],20,-373897302),l=g(l,u,h,d,i[f+5],5,-701558691),d=g(d,l,u,h,i[f+10],9,38016083),h=g(h,d,l,u,i[f+15],14,-660478335),u=g(u,h,d,l,i[f+4],20,-405537848),l=g(l,u,h,d,i[f+9],5,568446438),d=g(d,l,u,h,i[f+14],9,-1019803690),h=g(h,d,l,u,i[f+3],14,-187363961),u=g(u,h,d,l,i[f+8],20,1163531501),l=g(l,u,h,d,i[f+13],5,-1444681467),d=g(d,l,u,h,i[f+2],9,-51403784),h=g(h,d,l,u,i[f+7],14,1735328473),l=m(l,u=g(u,h,d,l,i[f+12],20,-1926607734),h,d,i[f+5],4,-378558),d=m(d,l,u,h,i[f+8],11,-2022574463),h=m(h,d,l,u,i[f+11],16,1839030562),u=m(u,h,d,l,i[f+14],23,-35309556),l=m(l,u,h,d,i[f+1],4,-1530992060),d=m(d,l,u,h,i[f+4],11,1272893353),h=m(h,d,l,u,i[f+7],16,-155497632),u=m(u,h,d,l,i[f+10],23,-1094730640),l=m(l,u,h,d,i[f+13],4,681279174),d=m(d,l,u,h,i[f+0],11,-358537222),h=m(h,d,l,u,i[f+3],16,-722521979),u=m(u,h,d,l,i[f+6],23,76029189),l=m(l,u,h,d,i[f+9],4,-640364487),d=m(d,l,u,h,i[f+12],11,-421815835),h=m(h,d,l,u,i[f+15],16,530742520),l=b(l,u=m(u,h,d,l,i[f+2],23,-995338651),h,d,i[f+0],6,-198630844),d=b(d,l,u,h,i[f+7],10,1126891415),h=b(h,d,l,u,i[f+14],15,-1416354905),u=b(u,h,d,l,i[f+5],21,-57434055),l=b(l,u,h,d,i[f+12],6,1700485571),d=b(d,l,u,h,i[f+3],10,-1894986606),h=b(h,d,l,u,i[f+10],15,-1051523),u=b(u,h,d,l,i[f+1],21,-2054922799),l=b(l,u,h,d,i[f+8],6,1873313359),d=b(d,l,u,h,i[f+15],10,-30611744),h=b(h,d,l,u,i[f+6],15,-1560198380),u=b(u,h,d,l,i[f+13],21,1309151649),l=b(l,u,h,d,i[f+4],6,-145523070),d=b(d,l,u,h,i[f+11],10,-1120210379),h=b(h,d,l,u,i[f+2],15,718787259),u=b(u,h,d,l,i[f+9],21,-343485551),l=l+v>>>0,u=u+j>>>0,h=h+y>>>0,d=d+O>>>0}return t.endian([l,u,h,d])};o._ff=function(e,t,n,a,r,s,o){var i=e+(t&n|~t&a)+(r>>>0)+o;return(i<<s|i>>>32-s)+t},o._gg=function(e,t,n,a,r,s,o){var i=e+(t&a|n&~a)+(r>>>0)+o;return(i<<s|i>>>32-s)+t},o._hh=function(e,t,n,a,r,s,o){var i=e+(t^n^a)+(r>>>0)+o;return(i<<s|i>>>32-s)+t},o._ii=function(e,t,n,a,r,s,o){var i=e+(n^(t|~a))+(r>>>0)+o;return(i<<s|i>>>32-s)+t},o._blocksize=16,o._digestsize=16,e.exports=function(e,n){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var a=t.wordsToBytes(o(e,n));return n&&n.asBytes?a:n&&n.asString?s.bytesToString(a):t.bytesToHex(a)}}()},564:function(e,t){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,a=0;n<e.length;n++,a+=8)t[a>>>5]|=e[n]<<24-a%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],a=0;a<e.length;a+=3)for(var r=e[a]<<16|e[a+1]<<8|e[a+2],s=0;s<4;s++)8*a+6*s<=8*e.length?n.push(t.charAt(r>>>6*(3-s)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],a=0,r=0;a<e.length;r=++a%4)0!=r&&n.push((t.indexOf(e.charAt(a-1))&Math.pow(2,-2*r+8)-1)<<2*r|t.indexOf(e.charAt(a))>>>6-2*r);return n}};e.exports=n}()},565:function(e,t){function n(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},567:function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));var a=n(28),r=n.n(a),s=n(12),o=n.n(s),i=n(13),c=n.n(i),l=n(22),u=n.n(l),h=n(21),d=n.n(h),f=n(23),p=n.n(f),g=n(4),m=n.n(g),b=n(5),v=n.n(b),j=n(25),y=n.n(j),O=(n(294),n(32)),w=n.n(O),x=(n(8),n(2)),N=n.n(x),C=n(19),S=n(86),E=n(88),P=n(27),T=n(136),k=n(328);function A(e){var t=e.children,n=e.className,a=e.content,s=w()("content",n),o=Object(S.a)(A,e),i=Object(E.a)(A,e);return N.a.createElement(i,r()({},o,{className:s}),P.a.isNil(t)?a:t)}A.handledProps=["as","children","className","content"],A.propTypes={};var I=A;function U(e){var t=e.children,n=e.className,a=e.content,s=w()("header",n),o=Object(S.a)(U,e),i=Object(E.a)(U,e);return N.a.createElement(i,r()({},o,{className:s}),P.a.isNil(t)?a:t)}U.handledProps=["as","children","className","content"],U.propTypes={},U.create=Object(T.g)(U,(function(e){return{content:e}}));var B=U,L=n(293),D=n.n(L);function F(e){var t=e.children,n=e.className,a=e.content,s=w()("content",n),o=Object(S.a)(F,e),i=Object(E.a)(F,e);return N.a.createElement(i,r()({},o,{className:s}),P.a.isNil(t)?a:t)}F.handledProps=["as","children","className","content"],F.propTypes={},F.defaultProps={as:"li"},F.create=Object(T.g)(F,(function(e){return{content:e}}));var R=F;function _(e){var t=e.children,n=e.className,a=e.items,s=w()("list",n),o=Object(S.a)(_,e),i=Object(E.a)(_,e);return N.a.createElement(i,r()({},o,{className:s}),P.a.isNil(t)?D()(a,R.create):t)}_.handledProps=["as","children","className","items"],_.propTypes={},_.defaultProps={as:"ul"},_.create=Object(T.g)(_,(function(e){return{items:e}}));var G=_,z=function(e){function t(){var e,n;o()(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return n=u()(this,(e=d()(t)).call.apply(e,[this].concat(r))),v()(m()(m()(n)),"handleDismiss",(function(e){var t=n.props.onDismiss;t&&t(e,n.props)})),n}return p()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,n=e.attached,a=e.children,s=e.className,o=e.color,i=e.compact,c=e.content,l=e.error,u=e.floating,h=e.header,d=e.hidden,f=e.icon,p=e.info,g=e.list,m=e.negative,b=e.onDismiss,v=e.positive,j=e.size,O=e.success,x=e.visible,A=e.warning,U=w()("ui",o,j,Object(C.a)(i,"compact"),Object(C.a)(l,"error"),Object(C.a)(u,"floating"),Object(C.a)(d,"hidden"),Object(C.a)(f,"icon"),Object(C.a)(p,"info"),Object(C.a)(m,"negative"),Object(C.a)(v,"positive"),Object(C.a)(O,"success"),Object(C.a)(x,"visible"),Object(C.a)(A,"warning"),Object(C.b)(n,"attached"),"message",s),L=b&&N.a.createElement(k.a,{name:"close",onClick:this.handleDismiss}),D=Object(S.a)(t,this.props),F=Object(E.a)(t,this.props);return P.a.isNil(a)?N.a.createElement(F,r()({},D,{className:U}),L,k.a.create(f,{autoGenerateKey:!1}),(!y()(h)||!y()(c)||!y()(g))&&N.a.createElement(I,null,B.create(h,{autoGenerateKey:!1}),G.create(g,{autoGenerateKey:!1}),Object(T.e)(c,{autoGenerateKey:!1}))):N.a.createElement(F,r()({},D,{className:U}),L,a)}}]),t}(x.Component);v()(z,"Content",I),v()(z,"Header",B),v()(z,"List",G),v()(z,"Item",R),v()(z,"handledProps",["as","attached","children","className","color","compact","content","error","floating","header","hidden","icon","info","list","negative","onDismiss","positive","size","success","visible","warning"]),z.propTypes={}},580:function(e,t,n){"use strict";n.r(t);var a=n(100),r=n(93),s=n(94),o=n(96),i=n(95),c=n(2),l=n.n(c),u=n(115),h=n(47),d=n(563),f=n.n(d),p=n(591),g=n(592),m=n(328),b=n(582),v=n(593),j=n(588),y=n(576),O=n(567),w=n(326),x=n(18),N=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={username:"",email:"",password:"",passwordConfirmation:"",errors:[],loading:!1,usersRef:h.a.database().ref("users")},e.isFormValid=function(){var t,n=[];return e.isFormEmpty(e.state)?(t={message:"Provide all information"},e.setState({errors:n.concat(t)}),!1):!!e.isPasswordValid(e.state)||(t={message:"Passsword is not valid"},e.setState({errors:n.concat(t)}),!1)},e.isFormEmpty=function(e){var t=e.username,n=e.email,a=e.password,r=e.passwordConfirmation;return!t.length||!n.length||!a.length||!r.length},e.isPasswordValid=function(e){var t=e.password,n=e.passwordConfirmation;return!(t.length<6||n.length<6)&&t===n},e.displayErrors=function(e){return e.map((function(e,t){return Object(x.jsx)("p",{children:e.message},t)}))},e.handleChange=function(t){e.setState(Object(a.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.isFormValid()&&(e.setState({errors:[],loading:!0}),h.a.auth().createUserWithEmailAndPassword(e.state.email,e.state.password).then((function(t){t.user.updateProfile({displayName:e.state.username,photoURL:"http://gravatar.com/avatar/".concat(f()(t.user.email),"?d=identicon")}).then((function(){e.saveUser(t).then((function(){console.log("user saved"),e.setState({loading:!1})}))})).catch((function(t){e.setState({errors:e.state.errors.concat(t),loading:!1})}))})).catch((function(t){var n={message:t.message};e.setState({errors:[].concat(n),loading:!1})})))},e.saveUser=function(t){return e.state.usersRef.child(t.user.uid).set({name:t.user.displayName,avatar:t.user.photoURL})},e.handleInputErrpr=function(e,t){return e.some((function(e){return e.message.toLowerCase().includes(t)}))?"error":""},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.email,a=e.password,r=e.passwordConfirmation,s=e.errors,o=e.loading;return Object(x.jsx)(p.a,{textAlign:"center",verticalAlign:"middle",className:"app",children:Object(x.jsxs)(p.a.Column,{style:{maxWidth:450},children:[Object(x.jsxs)(g.a,{as:"h2",icon:!0,color:"teal",textAlign:"center",children:[Object(x.jsx)(m.a,{name:"user secret",color:"teal"}),"Register for Secret Society"]}),Object(x.jsxs)(b.a,{onSubmit:this.handleSubmit,size:"large",children:[Object(x.jsxs)(v.a,{stacked:!0,children:[Object(x.jsx)(b.a.Input,{fluid:!0,className:this.handleInputErrpr(s,"user"),name:"username",icon:"user",iconPosition:"left",placeholder:"Username",onChange:this.handleChange,type:"text",value:t}),Object(x.jsx)(b.a.Input,{fluid:!0,className:this.handleInputErrpr(s,"email"),name:"email",icon:"mail",iconPosition:"left",placeholder:"Email",onChange:this.handleChange,type:"email",value:n}),Object(x.jsx)(b.a.Input,{fluid:!0,className:this.handleInputErrpr(s,"password"),name:"password",icon:"lock",iconPosition:"left",placeholder:"Password",onChange:this.handleChange,type:"password",value:a}),Object(x.jsx)(b.a.Input,{fluid:!0,className:this.handleInputErrpr(s,"password"),name:"passwordConfirmation",icon:"repeat",iconPosition:"left",placeholder:"Password Confirmation",onChange:this.handleChange,type:"password",value:r}),Object(x.jsx)(j.a,{disabled:o,className:o?"loading":"",color:"teal",fluid:!0,size:"large",children:"Submit"})]}),Object(x.jsx)(y.a,{horizontal:!0,children:"Or"}),Object(x.jsx)(w.a,{})]}),s.length>0&&Object(x.jsxs)(O.a,{error:!0,children:[Object(x.jsx)("h3",{children:"Error"}),this.displayErrors(s)]}),Object(x.jsxs)(O.a,{children:["Already a user?",Object(x.jsx)(u.b,{to:"/login",children:"Login"})]})]})})}}]),n}(l.a.Component);t.default=N}}]);
//# sourceMappingURL=5.fff30d3b.chunk.js.map