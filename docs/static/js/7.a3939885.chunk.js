(this["webpackJsonpreact-slack-clone"]=this["webpackJsonpreact-slack-clone"]||[]).push([[7],{326:function(e,a,t){"use strict";var n=t(93),r=t(94),s=t(96),c=t(95),o=t(2),i=t.n(o),l=t(47),u=t(588),h=t(67),d=t(48),p=t(18),b=function(e){Object(s.a)(t,e);var a=Object(c.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=a.call.apply(a,[this].concat(s))).state={loading:!1,errors:[],usersRef:l.a.database().ref("users")},e.handleFacebookLogin=function(){e.setState({errors:[],loading:!0}),l.a.auth().signInWithPopup(new l.a.auth.FacebookAuthProvider).then((function(a){e.saveUser(a).then((function(){e.cacheUserData(),e.setState({loading:!1})}))})).catch((function(a){e.setState({errors:e.state.errors.concat(a),loading:!1})}))},e.handleGoogleLogin=function(){e.setState({errors:[],loading:!0}),l.a.auth().signInWithPopup(new l.a.auth.GoogleAuthProvider).then((function(a){e.saveUser(a).then((function(){e.cacheUserData(),e.setState({loading:!1})}))})).catch((function(a){e.setState({errors:e.state.errors.concat(a),loading:!1})}))},e.saveUser=function(a){return e.state.usersRef.child(a.user.uid).set({name:a.user.displayName,avatar:a.user.photoURL})},e.cacheUserData=function(){var a=[];l.a.database().ref("users").once("value",(function(t){var n=t.val();Object.keys(n).forEach((function(e){a.push({userId:e,userData:n[e]})})),e.props.cacheUserData(a)}))},e}return Object(r.a)(t,[{key:"render",value:function(){var e=this.state.loading;return Object(p.jsxs)(i.a.Fragment,{children:[Object(p.jsx)(u.a,{disabled:e,icon:"facebook",fluid:!0,color:"facebook",style:{marginBottom:10},content:"Login with Facebook",onClick:this.handleFacebookLogin}),Object(p.jsx)(u.a,{disabled:e,icon:"google",fluid:!0,color:"google plus",content:"Login with Google",onClick:this.handleGoogleLogin})]})}}]),t}(i.a.Component);a.a=Object(h.b)(null,{cacheUserData:d.a})(b)},567:function(e,a,t){"use strict";t.d(a,"a",(function(){return W}));var n=t(28),r=t.n(n),s=t(12),c=t.n(s),o=t(13),i=t.n(o),l=t(22),u=t.n(l),h=t(21),d=t.n(h),p=t(23),b=t.n(p),m=t(4),j=t.n(m),f=t(5),g=t.n(f),O=t(25),v=t.n(O),y=(t(294),t(32)),N=t.n(y),w=(t(8),t(2)),x=t.n(w),k=t(19),D=t(86),E=t(88),S=t(27),P=t(136),C=t(328);function U(e){var a=e.children,t=e.className,n=e.content,s=N()("content",t),c=Object(D.a)(U,e),o=Object(E.a)(U,e);return x.a.createElement(o,r()({},c,{className:s}),S.a.isNil(a)?n:a)}U.handledProps=["as","children","className","content"],U.propTypes={};var I=U;function L(e){var a=e.children,t=e.className,n=e.content,s=N()("header",t),c=Object(D.a)(L,e),o=Object(E.a)(L,e);return x.a.createElement(o,r()({},c,{className:s}),S.a.isNil(a)?n:a)}L.handledProps=["as","children","className","content"],L.propTypes={},L.create=Object(P.g)(L,(function(e){return{content:e}}));var A=L,G=t(293),F=t.n(G);function z(e){var a=e.children,t=e.className,n=e.content,s=N()("content",t),c=Object(D.a)(z,e),o=Object(E.a)(z,e);return x.a.createElement(o,r()({},c,{className:s}),S.a.isNil(a)?n:a)}z.handledProps=["as","children","className","content"],z.propTypes={},z.defaultProps={as:"li"},z.create=Object(P.g)(z,(function(e){return{content:e}}));var T=z;function K(e){var a=e.children,t=e.className,n=e.items,s=N()("list",t),c=Object(D.a)(K,e),o=Object(E.a)(K,e);return x.a.createElement(o,r()({},c,{className:s}),S.a.isNil(a)?F()(n,T.create):a)}K.handledProps=["as","children","className","items"],K.propTypes={},K.defaultProps={as:"ul"},K.create=Object(P.g)(K,(function(e){return{items:e}}));var R=K,W=function(e){function a(){var e,t;c()(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=u()(this,(e=d()(a)).call.apply(e,[this].concat(r))),g()(j()(j()(t)),"handleDismiss",(function(e){var a=t.props.onDismiss;a&&a(e,t.props)})),t}return b()(a,e),i()(a,[{key:"render",value:function(){var e=this.props,t=e.attached,n=e.children,s=e.className,c=e.color,o=e.compact,i=e.content,l=e.error,u=e.floating,h=e.header,d=e.hidden,p=e.icon,b=e.info,m=e.list,j=e.negative,f=e.onDismiss,g=e.positive,O=e.size,y=e.success,w=e.visible,U=e.warning,L=N()("ui",c,O,Object(k.a)(o,"compact"),Object(k.a)(l,"error"),Object(k.a)(u,"floating"),Object(k.a)(d,"hidden"),Object(k.a)(p,"icon"),Object(k.a)(b,"info"),Object(k.a)(j,"negative"),Object(k.a)(g,"positive"),Object(k.a)(y,"success"),Object(k.a)(w,"visible"),Object(k.a)(U,"warning"),Object(k.b)(t,"attached"),"message",s),G=f&&x.a.createElement(C.a,{name:"close",onClick:this.handleDismiss}),F=Object(D.a)(a,this.props),z=Object(E.a)(a,this.props);return S.a.isNil(n)?x.a.createElement(z,r()({},F,{className:L}),G,C.a.create(p,{autoGenerateKey:!1}),(!v()(h)||!v()(i)||!v()(m))&&x.a.createElement(I,null,A.create(h,{autoGenerateKey:!1}),R.create(m,{autoGenerateKey:!1}),Object(P.e)(i,{autoGenerateKey:!1}))):x.a.createElement(z,r()({},F,{className:L}),G,n)}}]),a}(w.Component);g()(W,"Content",I),g()(W,"Header",A),g()(W,"List",R),g()(W,"Item",T),g()(W,"handledProps",["as","attached","children","className","color","compact","content","error","floating","header","hidden","icon","info","list","negative","onDismiss","positive","size","success","visible","warning"]),W.propTypes={}},579:function(e,a,t){"use strict";t.r(a);var n=t(100),r=t(93),s=t(94),c=t(96),o=t(95),i=t(2),l=t.n(i),u=t(115),h=t(47),d=t(591),p=t(592),b=t(328),m=t(582),j=t(593),f=t(588),g=t(576),O=t(567),v=t(67),y=t(48),N=t(326),w=t(18),x=function(e){Object(c.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(r.a)(this,t);for(var s=arguments.length,c=new Array(s),o=0;o<s;o++)c[o]=arguments[o];return(e=a.call.apply(a,[this].concat(c))).state={email:"",password:"",errors:[],loading:!1},e.displayErrors=function(e){return e.map((function(e,a){return Object(w.jsx)("p",{children:e.message},a)}))},e.handleChange=function(a){e.setState(Object(n.a)({},a.target.name,a.target.value))},e.handleSubmit=function(a){a.preventDefault(),e.isFormValid(e.state)&&(e.setState({errors:[],loading:!0}),h.a.auth().signInWithEmailAndPassword(e.state.email,e.state.password).then((function(a){e.cacheUserData(),e.setState({loading:!1})})).catch((function(a){e.setState({errors:e.state.errors.concat(a),loading:!1})})))},e.isFormValid=function(e){var a=e.email,t=e.password;return a&&t},e.handleInputErrpr=function(e,a){return e.some((function(e){return e.message.toLowerCase().includes("email")}))?"error":""},e.cacheUserData=function(){var a=[];h.a.database().ref("users").once("value",(function(t){var n=t.val();Object.keys(n).forEach((function(e){a.push({userId:e,userData:n[e]})})),e.props.cacheUserData(a)}))},e}return Object(s.a)(t,[{key:"render",value:function(){var e=this.state,a=e.email,t=e.password,n=e.errors,r=e.loading;return Object(w.jsx)(d.a,{textAlign:"center",verticalAlign:"middle",className:"app",children:Object(w.jsxs)(d.a.Column,{style:{maxWidth:450},children:[Object(w.jsxs)(p.a,{as:"h2",icon:!0,color:"teal",textAlign:"center",children:[Object(w.jsx)(b.a,{name:"user secret",color:"teal"}),"Login Secret Society"]}),Object(w.jsxs)(m.a,{onSubmit:this.handleSubmit,size:"large",children:[Object(w.jsxs)(j.a,{stacked:!0,children:[Object(w.jsx)(m.a.Input,{fluid:!0,className:this.handleInputErrpr(n,"email"),name:"email",icon:"mail",iconPosition:"left",placeholder:"Email",onChange:this.handleChange,type:"email",value:a}),Object(w.jsx)(m.a.Input,{fluid:!0,className:this.handleInputErrpr(n,"password"),name:"password",icon:"lock",iconPosition:"left",placeholder:"Password",onChange:this.handleChange,type:"password",value:t}),Object(w.jsx)(f.a,{disabled:r,className:r?"loading":"",color:"teal",fluid:!0,size:"large",children:"Submit"})]}),Object(w.jsx)(g.a,{horizontal:!0,children:"Or"}),Object(w.jsx)(N.a,{})]}),n.length>0&&Object(w.jsxs)(O.a,{error:!0,children:[Object(w.jsx)("h3",{children:"Error"}),this.displayErrors(n)]}),Object(w.jsxs)(O.a,{children:["Don't have a account?",Object(w.jsx)(u.b,{to:"/register",children:"Register"})]})]})})}}]),t}(l.a.Component);a.default=Object(v.b)(null,{cacheUserData:y.a})(x)}}]);
//# sourceMappingURL=7.a3939885.chunk.js.map